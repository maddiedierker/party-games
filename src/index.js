import env from "/.env";
import PubSub from "@src/PubSub";
import Player from "@src/Player";
import Playspace from "@src/Playspace";
import UI from "@src/UI";

/////////////////////////////////////////////////////////////
////// ENVIRONMENT VARIABLES
/////////////////////////////////////////////////////////////
if (!env) {
  throw new Error("env object is required");
}

/////////////////////////////////////////////////////////////
////// PUBSUB
/////////////////////////////////////////////////////////////
const pubSub = new PubSub(env.pubPublishKey, env.pubSubscribeKey);

/////////////////////////////////////////////////////////////
////// PLAYER
/////////////////////////////////////////////////////////////
new Player();

/////////////////////////////////////////////////////////////
////// PLAYSPACE
/////////////////////////////////////////////////////////////
const playspace = new Playspace();
// TODO: subscribe to stuff

/////////////////////////////////////////////////////////////
////// UI
/////////////////////////////////////////////////////////////
new UI("app", [playspace]);
// TODO: subscribe to stuff
